# RAGvertise
## ğŸ“‘ ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#1-í”„ë¡œì íŠ¸-ê°œìš”)  
2. [ì„¤ì¹˜ ë° ì´ˆê¸° ì„¤ì •](#2-ì„¤ì¹˜-ë°-ì´ˆê¸°-ì„¤ì •)  
   - [2.1 í•„ìˆ˜ ìš”êµ¬ì‚¬í•­](#-21-í•„ìˆ˜-ìš”êµ¬ì‚¬í•­)  
   - [2.2 í”„ë¡œì íŠ¸ í´ë¡  ë° ê°€ìƒ í™˜ê²½ ì„¤ì •](#-22-í”„ë¡œì íŠ¸-í´ë¡ -ë°-ê°€ìƒ-í™˜ê²½-ì„¤ì •)  
   - [2.3 .env ì„¤ì • (í™˜ê²½ ë³€ìˆ˜)](#-23-env-ì„¤ì •-í™˜ê²½-ë³€ìˆ˜)  
   - [2.4 Ollama ì„¤ì¹˜ ë° ëª¨ë¸ ë‹¤ìš´ë¡œë“œ](#-24-ollama-ì„¤ì¹˜-ë°-ëª¨ë¸-ë‹¤ìš´ë¡œë“œ)  
   - [2.5 fastText ëª¨ë¸ ì„¤ì •](#-25-fastText-ëª¨ë¸-ì„¤ì •)
3. [FastAPI ì„œë²„ ì‹¤í–‰](#3-fastapi-ì„œë²„-ì‹¤í–‰)  
4. [API ì‚¬ìš© ë°©ë²•](#4-ì£¼ìš”-api)  
   - [4.1 ëª¨ë¸ í…ŒìŠ¤íŠ¸ API V1](#-41-ëª¨ë¸-í…ŒìŠ¤íŠ¸-api-v1-post-apitestgenerate)  
   - [4.2 í¬íŠ¸í´ë¦¬ì˜¤ ë­í¬ ë¦¬ìŠ¤íŠ¸ ìƒì„± API V1](#-42-í¬íŠ¸í´ë¦¬ì˜¤-ë­í¬-ë¦¬ìŠ¤íŠ¸-ìƒì„±-api-v1-post-apirankptfo)  
   - [4.3 í¬íŠ¸í´ë¦¬ì˜¤ ë­í¬ ë¦¬ìŠ¤íŠ¸ ìƒì„± API V3](#-43-í¬íŠ¸í´ë¦¬ì˜¤-ë­í¬-ë¦¬ìŠ¤íŠ¸-ìƒì„±-API-V3-POST-apiv3rankportfoliosby-ad-elements)
   - [4.4 ê´‘ê³  ì‘ì—…ì§€ì‹œì„œ ì˜ˆì‹œ ìƒì„± API V3](#-44-ê´‘ê³ -ì‘ì—…ì§€ì‹œì„œ-ì˜ˆì‹œ-ìƒì„±-API-V3-POST-apiv3production_examplegenerate)
5. [í”„ëŸ°íŠ¸ì—”ë“œ ì‹¤í–‰ ê°€ì´ë“œ](#5-í”„ëŸ°íŠ¸ì—”ë“œ-ì‹¤í–‰-ê°€ì´ë“œ)  
   - [5.1 í•„ìˆ˜ ìš”êµ¬ì‚¬í•­](#-51-í•„ìˆ˜-ìš”êµ¬ì‚¬í•­)  
   - [5.2 í”„ë¡œì íŠ¸ í´ë¡  ë° ì˜ì¡´ì„± ì„¤ì¹˜](#-52-í”„ë¡œì íŠ¸-í´ë¡ -ë°-ì˜ì¡´ì„±-ì„¤ì¹˜)  
   - [5.3 í™˜ê²½ ë³€ìˆ˜ ì„¤ì •](#-53-í™˜ê²½-ë³€ìˆ˜-ì„¤ì •)  
   - [5.4 ê°œë°œ ì„œë²„ ì‹¤í–‰](#-54-ê°œë°œ-ì„œë²„-ì‹¤í–‰)  
   - [5.5 ë¹Œë“œ ë° ë°°í¬](#-55-ë¹Œë“œ-ë°-ë°°í¬)  

## 1ï¸âƒ£ í”„ë¡œì íŠ¸ ê°œìš”
> ì´ í”„ë¡œì íŠ¸ëŠ” FastAPI ê¸°ë°˜ì˜ ê´‘ê³  ì œì‘ì‚¬ ì¶”ì²œ ì„œë¹„ìŠ¤ë¡œ,
ê´‘ê³  ìš”ì²­ ë¬¸ì¥ì„ LLM(Gemini, Mistral ë“±)ìœ¼ë¡œ ë¶„ì„í•´ í•µì‹¬ ìš”ì†Œë¥¼ ì¶”ì¶œí•˜ê³ ,
FAISS ë²¡í„° ê²€ìƒ‰ì„ í†µí•´ ìœ ì‚¬ í¬íŠ¸í´ë¦¬ì˜¤ì™€ ê´‘ê³  ì—…ì²´ë¥¼ ë­í‚¹í•©ë‹ˆë‹¤.
ë°ì´í„°ë² ì´ìŠ¤ëŠ” MySQLì„ ì‚¬ìš©í•˜ë©°, ë°±ì—”ë“œì™€ í”„ë¡ íŠ¸ì—”ë“œ(React + Vite)ê°€ í•¨ê»˜ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
ì¶”ê°€ë¡œ, ìƒì„±í˜• AIë¥¼ í™œìš©í•´ ê´‘ê³  ì‘ì—…ì§€ì‹œì„œ ì˜ˆì‹œë¥¼ ìë™ ìƒì„±í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

## 2ï¸âƒ£ ì„¤ì¹˜ ë° ì´ˆê¸° ì„¤ì •
### ğŸ“Œ 2.1 í•„ìˆ˜ ìš”êµ¬ì‚¬í•­
- **Python 3.10 ì´ìƒ** (`python --version`ìœ¼ë¡œ í™•ì¸)  
- **pip** ë° ê°€ìƒí™˜ê²½ ë„êµ¬(`venv` ë˜ëŠ” `conda`)  
- **MariaDB 10.6 ì´ìƒ** ë˜ëŠ” **MySQL 8.0 ì´ìƒ**  
- **Node.js 18 ì´ìƒ** (í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ë° ë¹Œë“œìš©)  
- **FastAPI & Uvicorn** (ë°±ì—”ë“œ ì‹¤í–‰)  
- **FAISS** (ë²¡í„° ê²€ìƒ‰ ì¸ë±ìŠ¤)  
- **SentenceTransformers**, **fastText** (ì„ë² ë”© ìƒì„±)  
  - fastText ëª¨ë¸(`.bin` íŒŒì¼) ì‚¬ì „ ë‹¤ìš´ë¡œë“œ í•„ìš” (ì˜ˆ: `cc.ko.300.bin` for Korean)
- **Google Gemini API** ë˜ëŠ” **Ollama** (LLM í˜¸ì¶œ)

### ğŸ“Œ 2.2 í”„ë¡œì íŠ¸ í´ë¡  ë° ê°€ìƒ í™˜ê²½ ì„¤ì •
```shell
# í”„ë¡œì íŠ¸ í´ë¡ 
git clone https://github.com/Callein/ragvertise_prototype.git
cd ragvertise_prototype

# ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
python -m venv .venv
source .venv/bin/activate  # (Windows: .venv\Scripts\activate)

# í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜
pip install -r requirements.txt
```

### ğŸ“Œ 2.3 .env ì„¤ì • (í™˜ê²½ ë³€ìˆ˜)
- í™˜ê²½ ë³€ìˆ˜ ì˜ˆì‹œëŠ” **[.env.example](./.env.example)** íŒŒì¼ì„ ì°¸ê³ í•˜ì„¸ìš”.
- `.env.example`ë¥¼ ë³µì‚¬í•˜ì—¬ `.env`ë¡œ ì´ë¦„ ë³€ê²½ í›„, ê° í•­ëª©ì„ í™˜ê²½ì— ë§ê²Œ ìˆ˜ì •í•©ë‹ˆë‹¤.

### ğŸ“Œ 2.4 Ollama ì„¤ì¹˜ ë° ëª¨ë¸ ë‹¤ìš´ë¡œë“œ
> Gemini ë§Œ ì‚¬ìš©ì‹œì—ëŠ” ollamaê¹Œì§€ ì„¤ì¹˜í•˜ì‹¤ í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤.
```shell
# Ollama ì„¤ì¹˜ (Mac)
brew install --cask ollama
# Ollama ì„¤ì¹˜ (Linux)
curl -fsSL https://ollama.com/install.sh | sh

# OpenChat 3.5 ëª¨ë¸ ë‹¤ìš´ë¡œë“œ (í•„ìš”ì‹œì—ë§Œ)
ollama pull openchat:3.5

# ë˜ëŠ” Mistral 7B ë‹¤ìš´ë¡œë“œ (ê°€ë²¼ìš´ ëª¨ë¸)
ollama pull mistral
```

### ğŸ“Œ 2.5 fastText ëª¨ë¸ ì„¤ì •
ì´ í”„ë¡œì íŠ¸ì—ì„œëŠ” `what` ìš”ì†Œ ì„ë² ë”© ê³„ì‚°ì— **fastText**ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.  
ì´ë¥¼ ìœ„í•´ ì‚¬ì „ì— fastText ëª¨ë¸(`.bin` íŒŒì¼)ì„ ë‹¤ìš´ë¡œë“œí•˜ì—¬ ì§€ì •ëœ ê²½ë¡œì— ë°°ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.

#### 1) ëª¨ë¸ ë‹¤ìš´ë¡œë“œ
- [fastText ê³µì‹ ì œê³µ ëª¨ë¸](https://fasttext.cc/docs/en/crawl-vectors.html) ë˜ëŠ” [í•œêµ­ì–´ ëª¨ë¸](https://fasttext.cc/docs/en/crawl-vectors.html#models) ë‹¤ìš´ë¡œë“œ  
  ì˜ˆì‹œ (í•œêµ­ì–´ 300ì°¨ì› ëª¨ë¸):
  ```bash
  wget https://dl.fbaipublicfiles.com/fasttext/vectors-crawl/cc.ko.300.bin.gz
  gunzip cc.ko.300.bin.gz
  ```
#### 2) í”„ë¡œì íŠ¸ ë‚´ ê²½ë¡œ ë°°ì¹˜
- .env íŒŒì¼ ë˜ëŠ” ì„¤ì •ì—ì„œ WORD_EMBEDDING_MODEL_PATH í•­ëª©ì— í•´ë‹¹ ëª¨ë¸ ê²½ë¡œë¥¼ ì§€ì •
```env
WORD_EMBEDDING_MODEL_PATH=./models/cc.ko.300.bin
```
#### 3) ì£¼ì˜ì‚¬í•­
- fastText .bin íŒŒì¼ì€ ìš©ëŸ‰ì´ í¬ë¯€ë¡œ Gitì— í¬í•¨í•˜ì§€ ë§ê³  .gitignoreì— ë“±ë¡í•˜ì„¸ìš”.
- ëª¨ë¸ ê²½ë¡œê°€ ì˜ëª»ë˜ë©´ ì„ë² ë”© ìƒì„± ì‹œ FileNotFoundErrorê°€ ë°œìƒí•©ë‹ˆë‹¤.

## 3ï¸âƒ£ FastAPI ì„œë²„ ì‹¤í–‰
```shell
# ë‹¨ìˆœ ì‹¤í–‰
python main.py
# reload í•„ìš”ì‹œ
uvicorn main:app --reload --port 9000
```
PortëŠ” `9000` ì…ë‹ˆë‹¤.


## 4ï¸âƒ£ ì£¼ìš” API
[ğŸ“œ Swagger UI (Docs)](http://localhost:9000/docs)  
[ğŸ“ƒ Redoc (Alternative Docs)](http://localhost:9000/redoc)

### ğŸ”¹ 4.1 ëª¨ë¸ í…ŒìŠ¤íŠ¸ API V1 (POST /api/test/generate)
- **Request ì˜ˆì‹œ**
    ```json
    {
        "system_prompt": "persona: ë„ˆëŠ” ìµœê³ ì˜ ê´‘ê³  ì¹´í”¼ë¥¼ ë§Œë“œëŠ” AIì•¼.\n instruction: ëª¨ë“  ë‹µì€ í•œêµ­ì–´ë¡œ í•´.",
        "user_prompt": "í—¬ìŠ¤ì¼€ì–´ ì œí’ˆì„ ìœ„í•œ ì°½ì˜ì ì¸ ê´‘ê³  ë¬¸êµ¬ë¥¼ ì¶”ì²œí•´ì¤˜."
    }
    ```
    #### Request Body
    | í•„ë“œëª…         | íƒ€ì…     | í•„ìˆ˜ ì—¬ë¶€ | ì„¤ëª…               |
    |--------------|--------|---------|------------------|
    | `system_prompt` | `string` | âœ…       | ëª¨ë¸ì˜ ì—­í• ì´ë‚˜ ì§€ì¹¨ì„ ì „ë‹¬í•˜ëŠ” í•„ë“œ |
    | `user_prompt`   | `string` | âœ…       | ì‹¤ì œ ìš”ì²­ì„ ì „ë‹¬í•˜ëŠ” í•„ë“œ   |
    

- **Response ì˜ˆì‹œ**
    ```json
    {
        "response": "1. \"ì²´ë ¥ì„ ê°•í™”í•˜ëŠ” ê±´ê°•í•œ ë¯¸ë˜ë¥¼ ë§Œë“¤ì–´ë¼! ë‹¤ì–‘í•œ í—¬ìŠ¤ì¼€ì–´ ì œí’ˆìœ¼ë¡œ ê±´ê°•í•˜ì‹  ê²ƒì²˜ëŸ¼!\"\n\n2. \"ì˜¤ëŠ˜ë¶€í„° ê±´ê°•í•¨ì˜ ì‹œì‘, ë‚´ì¼ë¶€í„° í–‰ë³µí•œ ìì‹ ê³¼ í•¨ê»˜í•˜ëŠ” í—¬ìŠ¤ì¼€ì–´ ì œí’ˆì…ë‹ˆë‹¤.\"\n\n3. \"ê±´ê°•ì„ ìœ„í•´ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì€ ìì‹ ì˜ ì‚¶! ë‚´ ì‚¶, ë‚´ ì²´ë ¥, ë‚˜ë§Œì˜ í—¬ìŠ¤ì¼€ì–´ ì œí’ˆìœ¼ë¡œ ë‹¹ì‹ ì´ ê±´ê°•í•˜ì‹œì–´ë¼.\"\n\n4. \"ê±´ê°•í•¨ì„ ì„ íƒí•˜ì„¸ìš”. ì§€ê¸ˆë¶€í„° ê²¸ì†í•œ ì‹œì‘, ê±´ê°•í•œ ë¯¸ë˜ë¥¼ ë§Œë“¤ì–´ë‚´ì„¸ìš”!\"\n\n5. \"ê±´ê°•ì—ì„œ ì‚¶ì˜ ë¿Œë¦¬ë¥¼ ë°œêµ´í•´ë³´ì„¸ìš”! ìµœê³ ì˜ í—¬ìŠ¤ì¼€ì–´ ì œí’ˆìœ¼ë¡œ ê±´ê°•í•˜ì‹  ê²ƒì²˜ëŸ¼!\"\n\n6. \"í–‰ë³µì„ ìœ„í•œ ê¸°ì›ì€ ê±´ê°•í•¨! ê±´ê°•í•œ ì²´ë ¥, ê±´ê°•í•œ ë§ˆìŒ, ê±´ê°•í•œ ì‚¶ì„ ìœ„í•´ ìµœê³ ì˜ í—¬ìŠ¤ì¼€ì–´ ì œí’ˆìœ¼ë¡œ ì„ íƒí•´ë³´ì„¸ìš”.\"\n\n7. \"ê±´ê°•í•˜ì‹  ê²ƒì²˜ëŸ¼ í–‰ë³µí•˜ì‹œì˜¤! í˜ì‹ ì ì¸ í—¬ìŠ¤ì¼€ì–´ ì œí’ˆê³¼ í•¨ê»˜í•œ ë‹¹ì‹ ì˜ ê±´ê°•í•œ ì‚¶, ê±´ê°•í•œ ë¯¸ë˜ë¥¼ ë§Œë“¤ì–´ë‚´ì„¸ìš”.\"\n\n8. \"ê±´ê°•í•¨ì„ ì„ íƒí•˜ê³ , í–‰ë³µì„ ëˆ„ë¦¬ì‹œì˜¤! ìµœê³ ì˜ í—¬ìŠ¤ì¼€ì–´ ì œí’ˆê³¼ í•¨ê»˜í•˜ì—¬ ë‹¹ì‹ ì´ ê±´ê°•í•˜ì‹œë©° í–‰ë³µí•´ì§€ì„¸ìš”.\"\n\n9. \"ê±´ê°•í•œ ì²´ë ¥ìœ¼ë¡œ ì‚¶ì„ ë§Œë‚˜ë³´ì„¸ìš”! ìµœê³ ì˜ í—¬ìŠ¤ì¼€ì–´ ì œí’ˆê³¼ í•¨ê»˜, ë‹¹ì‹ ì˜ ê±´ê°•í•œ ë¯¸ë˜ë¥¼ ë§Œë“¤ì–´ë‚´ì„¸ìš”.\"\n\n10. \"ê±´ê°•í•˜ì‹  ê²ƒì²˜ëŸ¼ í–‰ë³µí•˜ì‹œì˜¤! ìµœê³ ì˜ í—¬ìŠ¤ì¼€ì–´ ì œí’ˆê³¼ í•¨ê»˜, ë‹¹ì‹ ì˜ ê±´ê°•í•œ ë¯¸ë˜ë¥¼ ë§Œë“¤ì–´ë‚´ì„¸ìš”.\""
    }
    ```


- ì•„ë˜ì™€ ê°™ì´ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ë¥¼ ì‘ì„±í•´ íŠ¹ì • í¬ë©§ìœ¼ë¡œ ë‹µë³€ì„ ë°›ìœ¼ì‹¤ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
    - Request
      ```json
        {
            "system_prompt": "persona: ë„ˆëŠ” ìµœê³ ì˜ ê´‘ê³  ì „ë¬¸ê°€ì•¼.\n instruction: \n - ëª¨ë“  ë‹µì€ í•œêµ­ì–´ë¡œ í•´.\n- ë‹µë³€ ë°©ì‹ì€ JSON í˜•ì‹ìœ¼ë¡œ. í•„ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤. \"tags\" : ì…ë ¥ëœ í…ìŠ¤íŠ¸ì—ì„œ ê´‘ê³  ê´€ë ¨ í•µì‹¬ íƒœê·¸ë¥¼ ì¶”ì¶œ, \"summary\": ì…ë ¥ëœ í…ìŠ¤íŠ¸ ìš”ì•½",
            "user_prompt": "ë‚˜ëŠ” ë‚¨ì ì•„ì´ëŒë“¤ì´ ì¶¤ì„ ì¶”ë©° í™ë³´í•˜ëŠ” ê´‘ê³  ìŠ¤íƒ€ì¼ì˜ ì˜ìƒì„ ì°ê³  ì‹¶ì–´ í´ë Œì§• í¼ì„ í™ë³´í•˜ê¸° ìœ„í•´ ë‚¨ì ì•„ì´ëŒì´ ì¶¤ì„ ì¶”ë©° ìë¦¬ì—ì„œ ë›°ì—ˆì„ë•Œ í´ëœì§• í¼ì˜ ê±°í’ˆì´ ë‚˜ëŠ” ë“¯í•œ ê´‘ê³ ë¥¼ ì°ì€ ë¹„ìŠ·í•œ ê´‘ê³ ë¥¼ ì¶”ì²œí•´ì¤˜"
        }
        ```
  - Response
      ```json
      {
        "response": " {\n     \"tags\": [\"ë‚¨ì ì•„ì´ëŒ\", \"ì¶¤\", \"í™ë³´\", \"í´ë Œì§• í¼\"],\n     \"summary\": \"ì˜ìƒì—ì„œ ë‚¨ì ì•„ì´ëŒì´ ì¶¤ì„ ì¶”ë©° ë™ì‹œì— í´ëœì§• í¼ì˜ ê±°í’ˆì´ ë‚˜ëŠ” ê´‘ê³ ì…ë‹ˆë‹¤. ì¶¤ê³¼ í´ë Œì§• í¼ì´ ì¡°í•©ëœ ë§¤ë ¥ì ì¸ ëª¨ìŠµìœ¼ë¡œ ê´€ì‹¬ì„ ìœ ë°œí•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.\"\n   }"      
      }
      ```
### ğŸ”¹ 4.2 í¬íŠ¸í´ë¦¬ì˜¤ ë­í¬ ë¦¬ìŠ¤íŠ¸ ìƒì„± API V1 (POST /api/rank/ptfo)
  > ì´ APIëŠ” ì‚¬ìš©ìì˜ ê´‘ê³  ì´¬ì˜ ìš”ì²­(ë˜ëŠ” ê´€ë ¨ ì•„ì´ë””ì–´)ì„ ë°”íƒ•ìœ¼ë¡œ í¬íŠ¸í´ë¦¬ì˜¤(ê´‘ê³  ì œì‘ ì‚¬ë¡€) ë¦¬ìŠ¤íŠ¸ì˜ ìˆœìœ„ë¥¼ ì‚°ì¶œí•©ë‹ˆë‹¤.
  1. **LLM ìš”ì•½ ë° íƒœê·¸ ìƒì„±**  
     - ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê´‘ê³  ìš”ì²­ í…ìŠ¤íŠ¸ì™€ ë¯¸ë¦¬ ì •ì˜ëœ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ì™€ í•¨ê»˜ LLM(í˜„ì¬ Mistral ëª¨ë¸ ì‚¬ìš©)ì— ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤.
     - ì´ë¥¼ í†µí•´ ê´‘ê³  ìš”ì²­ì— ëŒ€í•œ ìš”ì•½(`summary`)ê³¼ ê´€ë ¨ ê´‘ê³  ì¹´í…Œê³ ë¦¬ íƒœê·¸(`tags`)ë¥¼ ì¶”ì¶œí•©ë‹ˆë‹¤.
     
  2. **í¬íŠ¸í´ë¦¬ì˜¤ ê²€ìƒ‰ ë° ìˆœìœ„ ì‚°ì¶œ** 
     - **ì„ë² ë”© ë° ìœ ì‚¬ë„ ê³„ì‚°**  
       - **ì„ë² ë”© ëª¨ë¸ ì´ˆê¸°í™”**  
         `SentenceTransformer('all-MiniLM-L6-v2')` ëª¨ë¸ì„ ì‚¬ìš©í•˜ì—¬ LLMì´ ìƒì„±í•œ ì‚¬ìš©ì ìš”ì²­ì˜ `summary`ì™€ `tags`ë¥¼ ì„ë² ë”©í•©ë‹ˆë‹¤.
       - **í…ìŠ¤íŠ¸ ìœ ì‚¬ë„ ê³„ì‚° (FAISS ì‚¬ìš©)**  
         - ì „ì²˜ë¦¬ ê³¼ì •ì—ì„œ í¬íŠ¸í´ë¦¬ì˜¤ ì„ë² ë”© ë²¡í„°ë“¤ì„ L2 ì •ê·œí™”í•œ í›„, FAISSì˜ `IndexFlatIP` (ë‚´ì  ê¸°ë°˜ ì¸ë±ìŠ¤)ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.  
         - ì‚¬ìš©ì ì…ë ¥ ìš”ì•½ì„ ì„ë² ë”©í•˜ê³  ì •ê·œí™”í•˜ì—¬ ì „ì²´ í¬íŠ¸í´ë¦¬ì˜¤ ì„ë² ë”©ê³¼ì˜ ë‚´ì (ì½”ì‚¬ì¸ ìœ ì‚¬ë„ì™€ ë™ì¼í•œ íš¨ê³¼)ì„ ê³„ì‚°í•©ë‹ˆë‹¤.  
         - ê³„ì‚°ëœ ë‚´ì  ê°’ì— ë”°ë¼ ê° í¬íŠ¸í´ë¦¬ì˜¤ì˜ í…ìŠ¤íŠ¸ ìœ ì‚¬ë„ ì ìˆ˜ë¥¼ ì‚°ì¶œí•©ë‹ˆë‹¤.
       - **íƒœê·¸ ìœ ì‚¬ë„ ê³„ì‚° (í¬íŠ¸í´ë¦¬ì˜¤ë³„ FAISS ì‚¬ìš©)**  
         - ì „ì²˜ë¦¬ ê³¼ì •ì—ì„œ DB ë‚´ ê° í¬íŠ¸í´ë¦¬ì˜¤ì˜ íƒœê·¸ ë¦¬ìŠ¤íŠ¸ë¥¼ ê°œë³„ì ìœ¼ë¡œ ì„ë² ë”©í•˜ì—¬ FAISS ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•œ í›„,  
           ì‚¬ìš©ì ìš”ì²­ì˜ `tags`ì™€ í¬íŠ¸í´ë¦¬ì˜¤ íƒœê·¸ ê°„ ìµœê³  ìœ ì‚¬ë„(ìµœëŒ€ ë‚´ì )ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.  
         - ì‚¬ì „ì— ì„¤ì •í•œ ì„ê³„ê°’(í˜„ì¬ 0.5) ì´í•˜ì˜ `tag` ìœ ì‚¬ë„ ê°’ì—ëŠ” ë²Œì (penalty_factor, í˜„ì¬ 3.0)ì„ ì ìš©í•˜ì—¬ ì¡°ì •í•˜ê³ ,  
           ì‚¬ìš©ì ìš”ì²­ì˜ ëª¨ë“  íƒœê·¸ì— ëŒ€í•´ ì¡°ì •ëœ ìœ ì‚¬ë„ì˜ í‰ê· ì„ ì‚°ì¶œí•˜ì—¬ ê° í¬íŠ¸í´ë¦¬ì˜¤ì˜ íƒœê·¸ ìœ ì‚¬ë„ ì ìˆ˜ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.
           
       - **ìµœì¢… ì ìˆ˜ ì‚°ì¶œ**  
         í…ìŠ¤íŠ¸ ìœ ì‚¬ë„ì™€ íƒœê·¸ ìœ ì‚¬ë„ì— ê°ê° ê°€ì¤‘ì¹˜(alpha, beta)ë¥¼ ë¶€ì—¬í•˜ì—¬ ìµœì¢… ì ìˆ˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.
         ```
         ìµœì¢… ì ìˆ˜ = (alpha * í…ìŠ¤íŠ¸ ìœ ì‚¬ë„) + (beta * íƒœê·¸ ìœ ì‚¬ë„)
         ```
     - **ê²°ê³¼ ìƒì„± ë° ì •ë ¬**  
       ê° í¬íŠ¸í´ë¦¬ì˜¤ì— ëŒ€í•´ í…ìŠ¤íŠ¸ ìœ ì‚¬ë„, íƒœê·¸ ìœ ì‚¬ë„, ìµœì¢… ì ìˆ˜ ë° ì¶”ê°€ ì •ë³´ë¥¼ í¬í•¨í•˜ëŠ” ê²°ê³¼ ê°ì²´ë¥¼ ìƒì„±í•˜ê³ ,  
       ìµœì¢… ì ìˆ˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬í•œ í›„, ê²°ê³¼ë¥¼ LLMì´ ìƒì„±í•œ ìš”ì•½ ë° íƒœê·¸ ì •ë³´ì™€ í•¨ê»˜ ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.

- **Request ì˜ˆì‹œ**
  ```json
  {
      "user_prompt": "ë‚˜ëŠ” ìµœì‹  íŠ¸ë Œë“œë¥¼ ë°˜ì˜í•œ í˜ì‹ ì ì¸ ê´‘ê³  ì˜ìƒì„ ì´¬ì˜í•˜ê³  ì‹¶ì–´. íŠ¹íˆ, ë””ì§€í„¸ ë§ˆì¼€íŒ…ê³¼ ê´€ë ¨ëœ í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ ë³´ê³  ì‹¶ì–´."
  }
  ```
  #### Request Body
    | í•„ë“œëª…      | íƒ€ì…   | í•„ìˆ˜ ì—¬ë¶€ | ì„¤ëª…                                          |
    |-------------|--------|-----------|-----------------------------------------------|
    | user_prompt | string | âœ…         | ì‚¬ìš©ìì˜ ê´‘ê³  ì´¬ì˜ ìš”ì²­ í˜¹ì€ ê´€ë ¨ ì•„ì´ë””ì–´ë¥¼ ë‹´ì€ í…ìŠ¤íŠ¸ |

- **Response ì˜ˆì‹œ**
    ```json
    {
        "generated": {
            "tags": ["ë””ì§€í„¸ ë§ˆì¼€íŒ…", "í˜ì‹ ", "íŠ¸ë Œë“œ"],
            "summary": "ìµœì‹  íŠ¸ë Œë“œë¥¼ ë°˜ì˜í•œ í˜ì‹ ì ì¸ ê´‘ê³  ì˜ìƒ ì´¬ì˜ ìš”ì²­"
        },
        "search_results": [
            {
                "ptfo_seqno": 1001,
                "ptfo_nm": "í¬íŠ¸í´ë¦¬ì˜¤ A",
                "ptfo_desc": "í˜ì‹ ì ì¸ ë””ì§€í„¸ ê´‘ê³  ì˜ìƒ",
                "text_score": 0.92,
                "tag_score": 0.85,
                "final_score": 0.88,
                "tag_names": ["ë””ì§€í„¸ ë§ˆì¼€íŒ…", "í˜ì‹ "]
            },
            {
                "ptfo_seqno": 1002,
                "ptfo_nm": "í¬íŠ¸í´ë¦¬ì˜¤ B",
                "ptfo_desc": "ìµœì‹  íŠ¸ë Œë“œ ê¸°ë°˜ ê´‘ê³  ì˜ìƒ",
                "text_score": 0.90,
                "tag_score": 0.80,
                "final_score": 0.85,
                "tag_names": ["íŠ¸ë Œë“œ", "ê´‘ê³ "]
            }
        ]
    }
  ```
  #### Response Body
    
    | í•„ë“œëª…         | íƒ€ì…   | ì„¤ëª…                                                       |
    |----------------|--------|------------------------------------------------------------|
    | generated      | object | LLMì´ ìƒì„±í•œ ê²°ê³¼ë¡œ, ê´‘ê³  ìš”ì²­ ìš”ì•½ ë° ê´€ë ¨ íƒœê·¸ ì •ë³´ í¬í•¨        |
    | &nbsp;&nbsp; tags      | array  | LLMì´ ì¶”ì¶œí•œ ê´‘ê³  ê´€ë ¨ íƒœê·¸ ë¦¬ìŠ¤íŠ¸                              |
    | &nbsp;&nbsp; summary   | string | LLMì´ ìš”ì•½í•œ ê´‘ê³  ìš”ì²­ ë‚´ìš©                                   |
    | search_results | array  | í¬íŠ¸í´ë¦¬ì˜¤ ê²€ìƒ‰ ê²°ê³¼ ë¦¬ìŠ¤íŠ¸, ê° í•­ëª©ì€ í¬íŠ¸í´ë¦¬ì˜¤ ì •ë³´ì™€ ìœ ì‚¬ë„ ì ìˆ˜ í¬í•¨ |
    | &nbsp;&nbsp; ptfo_seqno  | number | í¬íŠ¸í´ë¦¬ì˜¤ì˜ ê³ ìœ  ì‹ë³„ ë²ˆí˜¸                                   |
    | &nbsp;&nbsp; ptfo_nm     | string | í¬íŠ¸í´ë¦¬ì˜¤ ì´ë¦„                                             |
    | &nbsp;&nbsp; ptfo_desc   | string | í¬íŠ¸í´ë¦¬ì˜¤ ì„¤ëª…                                             |
    | &nbsp;&nbsp; text_score  | number | í¬íŠ¸í´ë¦¬ì˜¤ í…ìŠ¤íŠ¸ ê¸°ë°˜ ìœ ì‚¬ë„ ì ìˆ˜                             |
    | &nbsp;&nbsp; tag_score   | number | í¬íŠ¸í´ë¦¬ì˜¤ íƒœê·¸ ê¸°ë°˜ ìœ ì‚¬ë„ ì ìˆ˜                              |
    | &nbsp;&nbsp; final_score | number | í…ìŠ¤íŠ¸ ì ìˆ˜ì™€ íƒœê·¸ ì ìˆ˜ë¥¼ ê°€ì¤‘ í‰ê· í•˜ì—¬ ì‚°ì¶œí•œ ìµœì¢… ì ìˆ˜             |
    | &nbsp;&nbsp; tag_names   | array  | í•´ë‹¹ í¬íŠ¸í´ë¦¬ì˜¤ì— ì—°ê²°ëœ íƒœê·¸ ë¦¬ìŠ¤íŠ¸                           |


### ğŸ”¹ 4.3 í¬íŠ¸í´ë¦¬ì˜¤ ë­í¬ ë¦¬ìŠ¤íŠ¸ ìƒì„± API V3 (POST /api/v3/rank/portfolios/by-ad-elements)
> ì´ APIëŠ” ì‚¬ìš©ìê°€ ì§ì ‘ ì…ë ¥í•œ ê´‘ê³  ìš”ì²­(í˜¹ì€ ì¶”ì¶œëœ ê´‘ê³  ìš”ì†Œ ë°ì´í„°)ì„ ê¸°ë°˜ìœ¼ë¡œ, í¬íŠ¸í´ë¦¬ì˜¤(ê´‘ê³  ì œì‘ ì‚¬ë¡€) ë¦¬ìŠ¤íŠ¸ì˜ ìˆœìœ„ë¥¼ ì‚°ì¶œí•©ë‹ˆë‹¤.  
> V2ì™€ ë‹¬ë¦¬ V3ëŠ” `desc`, `what`, `how`, `style` ë„¤ ê°€ì§€ ê´‘ê³  ìš”ì†Œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì„¸ë¶„í™”ëœ ìœ ì‚¬ë„ ì ìˆ˜ë¥¼ ê³„ì‚°í•˜ë©°, fastTextì™€ SBERTë¥¼ í˜¼í•© ì‚¬ìš©í•©ë‹ˆë‹¤.

1. **ê´‘ê³  ìš”ì†Œ ì…ë ¥**
   - ì‚¬ìš©ìê°€ ì§ì ‘ `desc`, `what`, `how`, `style`ë¥¼ ì…ë ¥í•˜ê±°ë‚˜, ë³„ë„ì˜ ì¶”ì¶œ API(`/api/v3/ad-element/extract`)ë¡œë¶€í„° ìƒì„±ëœ ê°’ì„ ì „ë‹¬í•©ë‹ˆë‹¤.
   - ê° ìš”ì†Œì˜ ì˜ë¯¸:
     - **desc**: ê´‘ê³ ì˜ í•œ ë¬¸ì¥ ìš”ì•½
     - **what**: ë¬´ì—‡ì„ ê´‘ê³ í•˜ëŠ”ì§€ (ì¤‘ë¶„ë¥˜, ë‹¨ì–´ ë‹¨ìœ„)
     - **how**: ì–´ë–¤ ë°©ì‹/ë§¤ì²´/ë„êµ¬ë¡œ ê´‘ê³ í•˜ëŠ”ì§€
     - **style**: ê´‘ê³ ì˜ í†¤/ì—°ì¶œ ìŠ¤íƒ€ì¼ (ë‹¨ì–´ ë‹¨ìœ„)

2. **í¬íŠ¸í´ë¦¬ì˜¤ ê²€ìƒ‰ ë° ìˆœìœ„ ì‚°ì¶œ**
   - **ìš”ì†Œë³„ ì„ë² ë”© ìƒì„±**
     - **SBERT** (`SentenceTransformer`) â†’ `full`, `desc`, `how`, `style` ìš”ì†Œì— ì‚¬ìš©  
     - **fastText** (`cc.ko.300.bin`) â†’ `what` ìš”ì†Œì— ì‚¬ìš©
   - **ìš”ì†Œë³„ ìœ ì‚¬ë„ ê³„ì‚°**
     - L2 ì •ê·œí™”ëœ ë²¡í„° ê°„ ë‚´ì ì„ í†µí•´ ì½”ì‚¬ì¸ ìœ ì‚¬ë„ë¥¼ ê³„ì‚°
   - **ê°€ì¤‘ì¹˜ ì ìš© í›„ ìµœì¢… ì ìˆ˜ ì‚°ì¶œ**
     ```text
     final_score =
       full_score Ã— 1.0 +
       desc_score Ã— 0.6 +
       what_score Ã— 1.5 +
       how_score Ã— 0.2 +
       style_score Ã— 0.5
     ```
   - **ê²°ê³¼ ìƒì„± ë° ì •ë ¬**
     - ê° í¬íŠ¸í´ë¦¬ì˜¤ì— ëŒ€í•´ ìš”ì†Œë³„ ì ìˆ˜, ìµœì¢… ì ìˆ˜, ë©”íƒ€ë°ì´í„°(ì œì‘ì‚¬, ì œì‘ë¹„, ì œì‘ê¸°ê°„ ë“±)ë¥¼ í¬í•¨í•œ ê°ì²´ ìƒì„±
     - ìµœì¢… ì ìˆ˜ ê¸°ì¤€ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬ í›„ ë°˜í™˜

- **Request ì˜ˆì‹œ**
    ```json
    {
      "desc": "ì—¬ì„± ê±´ê°•ì„ ìœ„í•œ Yì¡´ ì¼€ì–´ë¥¼ ë•ëŠ” ìœ ì‚°ê·  ì œí’ˆì˜ ë”°ëœ»í•˜ê³  í¸ì•ˆí•œ ì´ë¯¸ì§€ë¥¼ ë‹´ì€ ê´‘ê³ .",
      "what": "ê±´ê°•",
      "how": "ì˜ìƒ",
      "style": "ì¹œê·¼í•¨",
      "diversity": false,
      "limit": 5
    }
    ```

#### Request Body
| í•„ë“œëª…       | íƒ€ì…    | í•„ìˆ˜ ì—¬ë¶€ | ì„¤ëª…                                         |
|--------------|--------|-----------|----------------------------------------------|
| desc         | string | âœ…         | ê´‘ê³ ë¥¼ í•œ ë¬¸ì¥ìœ¼ë¡œ ìš”ì•½í•œ ì„¤ëª…               |
| what         | string | âœ…         | ë¬´ì—‡ì„ ê´‘ê³ í•˜ëŠ”ì§€(ì¤‘ë¶„ë¥˜, í•œ ë‹¨ì–´)           |
| how          | string | âœ…         | ì–´ë–¤ ë°©ì‹/ë§¤ì²´/ë„êµ¬ë¡œ ê´‘ê³ í•˜ëŠ”ì§€             |
| style        | string | âœ…         | ê´‘ê³ ì˜ í†¤/ì—°ì¶œ ìŠ¤íƒ€ì¼(í•œ ë‹¨ì–´)               |
| diversity    | bool   | âŒ         | ê²°ê³¼ ë‹¤ì–‘ì„± ë°˜ì˜ ì—¬ë¶€ (ê¸°ë³¸ê°’: false)        |
| limit        | number | âŒ         | ë°˜í™˜í•  í¬íŠ¸í´ë¦¬ì˜¤ ê°œìˆ˜ ì œí•œ (ê¸°ë³¸ê°’ ì—†ìŒ)    |

- **Response ì˜ˆì‹œ**
    ```json
    {
      "generated": {
        "desc": "ì—¬ì„± ê±´ê°•ì„ ìœ„í•œ Yì¡´ ì¼€ì–´ë¥¼ ë•ëŠ” ìœ ì‚°ê·  ì œí’ˆì˜ ë”°ëœ»í•˜ê³  í¸ì•ˆí•œ ì´ë¯¸ì§€ë¥¼ ë‹´ì€ ê´‘ê³ .",
        "what": "ê±´ê°•",
        "how": "ì˜ìƒ",
        "style": "ì¹œê·¼í•¨"
      },
      "search_results": [
        {
          "ptfo_seqno": 1012,
          "ptfo_nm": "ë‹¿ê¸°ë¥¼ ì ¤ íƒ€ì… ì‡¼ì¸ ",
          "ptfo_desc": "ìœ ì‚°ê·  Yì¡´ ì¼€ì–´ ì œí’ˆ ë‹¿ê¸°ë¥¼ ì ¤ íƒ€ì… ì‡¼ì¸  ì˜ìƒì…ë‹ˆë‹¤.",
          "final_score": 3.49,
          "desc": "yì¡´ ì¼€ì–´ ì œí’ˆì˜ íŠ¹ì§•ì„ ë³´ì—¬ì£¼ëŠ” ì ¤ íƒ€ì… ì‡¼ì¸  ì˜ìƒ",
          "desc_score": 0.86,
          "what": "ê±´ê°•",
          "what_score": 1.0,
          "how": "ìˆí¼",
          "how_score": 0.80,
          "style": "ì •ë³´ì „ë‹¬",
          "style_score": 0.77,
          "tags": ["í™ë³´ì˜ìƒ", "ê¸°ë¡/ì •ë³´ì „ë‹¬", "ë¸Œëœë”©", "ìˆí¼", "ì œí’ˆ/ê¸°ìˆ "],
          "view_lnk_url": "https://player.vimeo.com/video/878209021",
          "prdn_stdo_nm": "Calmpictures",
          "prdn_cost": null,
          "prdn_perd": "2ì£¼"
        }
      ],
      "top_studios": [
        {
          "name": "Calmpictures",
          "count": 3,
          "ratio": 0.3
        },
        {
          "name": "D.NABI",
          "count": 1,
          "ratio": 0.1
        }
      ],
      "candidate_size": 10
    }
    ```
#### Response Body

| í•„ë“œëª…          | íƒ€ì…    | ì„¤ëª…                                                                 |
|-----------------|--------|----------------------------------------------------------------------|
| generated       | object | ì…ë ¥ê°’ ê¸°ë°˜ìœ¼ë¡œ LLMì´ ìƒì„±í•œ ê´‘ê³  ìš”ì†Œ(desc, what, how, style)         |
| â”œâ”€ desc         | string | ê´‘ê³ ì˜ í•œ ë¬¸ì¥ ì„¤ëª…                                                   |
| â”œâ”€ what         | string | ê´‘ê³  ëŒ€ìƒ (ì˜ˆ: ê±´ê°•, êµìœ¡, ë·°í‹° ë“±)                                   |
| â”œâ”€ how          | string | ê´‘ê³  ë°©ì‹/ë§¤ì²´ (ì˜ˆ: ì˜ìƒ, ìˆí¼ ë“±)                                    |
| â”œâ”€ style        | string | ê´‘ê³  ìŠ¤íƒ€ì¼ (ì˜ˆ: ì¹œê·¼í•¨, ì„¸ë ¨ëœ ë“±)                                   |
| search_results  | array  | í¬íŠ¸í´ë¦¬ì˜¤ ê²€ìƒ‰ ê²°ê³¼ ë¦¬ìŠ¤íŠ¸                                           |
| â”œâ”€ ptfo_seqno   | number | í¬íŠ¸í´ë¦¬ì˜¤ ê³ ìœ  ì‹ë³„ ë²ˆí˜¸                                             |
| â”œâ”€ ptfo_nm      | string | í¬íŠ¸í´ë¦¬ì˜¤ ì´ë¦„                                                      |
| â”œâ”€ ptfo_desc    | string | í¬íŠ¸í´ë¦¬ì˜¤ ì„¤ëª…                                                      |
| â”œâ”€ final_score  | number | ì „ì²´ ìš”ì†Œ ìœ ì‚¬ë„ ê°€ì¤‘í•©ìœ¼ë¡œ ê³„ì‚°ëœ ìµœì¢… ì ìˆ˜                          |
| â”œâ”€ desc         | string | ë§¤ì¹­ëœ í¬íŠ¸í´ë¦¬ì˜¤ì˜ ê´‘ê³  ì„¤ëª…                                         |
| â”œâ”€ desc_score   | number | desc ìš”ì†Œ ìœ ì‚¬ë„ ì ìˆ˜                                                 |
| â”œâ”€ what         | string | ë§¤ì¹­ëœ ê´‘ê³  ëŒ€ìƒ                                                      |
| â”œâ”€ what_score   | number | what ìš”ì†Œ ìœ ì‚¬ë„ ì ìˆ˜                                                 |
| â”œâ”€ how          | string | ë§¤ì¹­ëœ ê´‘ê³  ë°©ì‹                                                      |
| â”œâ”€ how_score    | number | how ìš”ì†Œ ìœ ì‚¬ë„ ì ìˆ˜                                                  |
| â”œâ”€ style        | string | ë§¤ì¹­ëœ ê´‘ê³  ìŠ¤íƒ€ì¼                                                    |
| â”œâ”€ style_score  | number | style ìš”ì†Œ ìœ ì‚¬ë„ ì ìˆ˜                                                |
| â”œâ”€ tags         | array  | í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë ¨ íƒœê·¸ ë¦¬ìŠ¤íŠ¸                                            |
| â”œâ”€ view_lnk_url | string | ì˜ìƒ URL (ì—†ì„ ìˆ˜ ìˆìŒ)                                               |
| â”œâ”€ prdn_stdo_nm | string | ì œì‘ ìŠ¤íŠœë””ì˜¤ëª… (ì—†ì„ ìˆ˜ ìˆìŒ)                                        |
| â”œâ”€ prdn_cost    | number | ì œì‘ë¹„ (ì—†ì„ ìˆ˜ ìˆìŒ)                                                 |
| â”œâ”€ prdn_perd    | string | ì œì‘ê¸°ê°„ (ì—†ì„ ìˆ˜ ìˆìŒ)                                               |
| top_studios     | array  | í›„ë³´ ì¤‘ ìƒìœ„ ìŠ¤íŠœë””ì˜¤ ë¦¬ìŠ¤íŠ¸                                          |
| â”œâ”€ name         | string | ìŠ¤íŠœë””ì˜¤ëª…                                                            |
| â”œâ”€ count        | number | í•´ë‹¹ ìŠ¤íŠœë””ì˜¤ í¬íŠ¸í´ë¦¬ì˜¤ ìˆ˜                                           |
| â”œâ”€ ratio        | number | í›„ë³´ ëŒ€ë¹„ ë¹„ìœ¨                                                        |
| candidate_size  | number | ì „ì²´ í›„ë³´ ê°œìˆ˜                                                        |


### ğŸ”¹ 4.4 ê´‘ê³  ì‘ì—…ì§€ì‹œì„œ ì˜ˆì‹œ ìƒì„± API V3 (POST `/api/v3/production_example/generate`)

> ì´ APIëŠ” **ë­í¬ ê²€ìƒ‰ ê²°ê³¼**ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê´‘ê³  ì œì‘ì— í•„ìš”í•œ **ì‘ì—…ì§€ì‹œì„œ ì˜ˆì‹œ í…ìŠ¤íŠ¸**ë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•©ë‹ˆë‹¤.  
> í”„ë¡ íŠ¸ì—”ë“œì—ì„œ `/api/v3/rank/portfolios/by-ad-elements` í˜¸ì¶œ ê²°ê³¼ë¥¼ ê·¸ëŒ€ë¡œ ì „ë‹¬í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.

---

#### 1. ì²˜ë¦¬ ë°©ì‹
1. **ìš”ì²­ ë°ì´í„° ìˆ˜ì§‘**  
   - `generated`: ì‚¬ìš©ìì˜ ê´‘ê³  ìš”ì²­ì„ LLMì´ ë¶„ì„í•œ í•µì‹¬ ê´‘ê³  ìš”ì†Œ(desc, what, how, style)
   - `search_results`: ì¶”ì²œ í¬íŠ¸í´ë¦¬ì˜¤ ëª©ë¡ (ì ìˆ˜ ë° ë©”íƒ€ ì •ë³´ í¬í•¨)
   - `top_studios`: ìƒìœ„ ìŠ¤íŠœë””ì˜¤ í†µê³„
   - `candidate_size`: í›„ë³´ ê°œìˆ˜

2. **LLM ê¸°ë°˜ ì˜ˆì‹œ ìƒì„±**  
   - ê´‘ê³  ìš”ì†Œì™€ í¬íŠ¸í´ë¦¬ì˜¤ ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ, ì‹¤ë¬´ì— ë°”ë¡œ ì°¸ê³ í•  ìˆ˜ ìˆëŠ” ê´‘ê³  ì‘ì—…ì§€ì‹œì„œ ì˜ˆì‹œë¥¼ ì‘ì„±.
   - ê²°ê³¼ëŠ” **ìì—°ì–´ í…ìŠ¤íŠ¸** í˜•íƒœë¡œ ë°˜í™˜.

---

#### 2. Request ì˜ˆì‹œ
    ```json
    {
      "generated": {
        "desc": "ì—¬ì„± ê±´ê°•ì„ ìœ„í•œ Yì¡´ ì¼€ì–´ë¥¼ ë•ëŠ” ìœ ì‚°ê·  ì œí’ˆì˜ ë”°ëœ»í•˜ê³  í¸ì•ˆí•œ ì´ë¯¸ì§€ë¥¼ ë‹´ì€ ê´‘ê³ .",
        "what": "ê±´ê°•",
        "how": "ì˜ìƒ",
        "style": "ì¹œê·¼í•¨"
      },
      "search_results": [
        {
          "final_score": 3.48,
          "full_score": 0.93,
          "desc_score": 0.86,
          "what_score": 1.0,
          "how_score": 0.79,
          "style_score": 0.76,
          "desc": "yì¡´ ì¼€ì–´ ì œí’ˆì˜ íŠ¹ì§•ì„ ë³´ì—¬ì£¼ëŠ” ì ¤ íƒ€ì… ì‡¼ì¸  ì˜ìƒ",
          "what": "ê±´ê°•",
          "how": "ìˆí¼",
          "style": "ì •ë³´ì „ë‹¬",
          "ptfo_seqno": 1012,
          "ptfo_nm": "ë‹¿ê¸°ë¥¼ ì ¤ íƒ€ì… ì‡¼ì¸ ",
          "ptfo_desc": "ìœ ì‚°ê·  Yì¡´ ì¼€ì–´ ì œí’ˆ ë‹¿ê¸°ë¥¼ ì ¤ íƒ€ì… ì‡¼ì¸  ì˜ìƒì…ë‹ˆë‹¤.",
          "tags": ["í™ë³´ì˜ìƒ", "ê¸°ë¡/ì •ë³´ì „ë‹¬", "ë¸Œëœë”©", "ìˆí¼", "ì œí’ˆ/ê¸°ìˆ "],
          "view_lnk_url": "https://...",
          "prdn_stdo_nm": "Calmpictures",
          "prdn_cost": null,
          "prdn_perd": "2ì£¼"
        }
      ],
      "top_studios": [
        { "name": "Calmpictures", "count": 3, "ratio": 0.3 }
      ],
      "candidate_size": 10
    }
    ```
#### 3. Request Body

| í•„ë“œëª…           | íƒ€ì…     | í•„ìˆ˜ | ì„¤ëª… |
|------------------|----------|------|------|
| `generated`      | object   | âœ… | LLMì´ ìƒì„±í•œ ê´‘ê³  í•µì‹¬ ìš”ì†Œ |
| â”œâ”€ `desc`        | string   | âœ… | ê´‘ê³  í•œ ë¬¸ì¥ ì„¤ëª… |
| â”œâ”€ `what`        | string   | âœ… | ê´‘ê³  ëŒ€ìƒ(ì¹´í…Œê³ ë¦¬, í•œ ë‹¨ì–´) |
| â”œâ”€ `how`         | string   | âœ… | ê´‘ê³  ë§¤ì²´/ë°©ì‹ |
| â”œâ”€ `style`       | string   | âœ… | ê´‘ê³  ìŠ¤íƒ€ì¼/í†¤ |
| `search_results` | array    | âœ… | ì¶”ì²œ í¬íŠ¸í´ë¦¬ì˜¤ ëª©ë¡ |
| â”œâ”€ `final_score` | number   | âœ… | ìµœì¢… ì ìˆ˜ |
| â”œâ”€ `full_score`  | number   | âœ… | ì „ì²´ ìš”ì†Œ ê²°í•© ìœ ì‚¬ë„ ì ìˆ˜ |
| â”œâ”€ `desc_score`  | number   | âœ… | desc ìœ ì‚¬ë„ ì ìˆ˜ |
| â”œâ”€ `what_score`  | number   | âœ… | what ìœ ì‚¬ë„ ì ìˆ˜ |
| â”œâ”€ `how_score`   | number   | âœ… | how ìœ ì‚¬ë„ ì ìˆ˜ |
| â”œâ”€ `style_score` | number   | âœ… | style ìœ ì‚¬ë„ ì ìˆ˜ |
| â”œâ”€ `desc`        | string   | âœ… | í¬íŠ¸í´ë¦¬ì˜¤ desc ê°’ |
| â”œâ”€ `what`        | string   | âœ… | í¬íŠ¸í´ë¦¬ì˜¤ what ê°’ |
| â”œâ”€ `how`         | string   | âœ… | í¬íŠ¸í´ë¦¬ì˜¤ how ê°’ |
| â”œâ”€ `style`       | string   | âœ… | í¬íŠ¸í´ë¦¬ì˜¤ style ê°’ |
| â”œâ”€ `ptfo_seqno`  | number   | âœ… | í¬íŠ¸í´ë¦¬ì˜¤ ê³ ìœ  ID |
| â”œâ”€ `ptfo_nm`     | string   | âœ… | í¬íŠ¸í´ë¦¬ì˜¤ ì´ë¦„ |
| â”œâ”€ `ptfo_desc`   | string   | âœ… | í¬íŠ¸í´ë¦¬ì˜¤ ì„¤ëª… |
| â”œâ”€ `tags`        | array    | âœ… | íƒœê·¸ ëª©ë¡ |
| â”œâ”€ `view_lnk_url`| string   | âŒ | ì˜ìƒ ë§í¬ URL |
| â”œâ”€ `prdn_stdo_nm`| string   | âŒ | ì œì‘ ìŠ¤íŠœë””ì˜¤ ì´ë¦„ |
| â”œâ”€ `prdn_cost`   | number   | âŒ | ì œì‘ ë¹„ìš© |
| â”œâ”€ `prdn_perd`   | string   | âŒ | ì œì‘ ê¸°ê°„ |
| `top_studios`    | array    | âœ… | ìƒìœ„ ìŠ¤íŠœë””ì˜¤ í†µê³„ (`name`, `count`, `ratio`) |
| `candidate_size` | number   | âœ… | í›„ë³´ ê°œìˆ˜ |

#### 4. Response ì˜ˆì‹œ
    ```json
    {
      "example": "ì œì‘ ëª©ì : ì—¬ì„± ê±´ê°•ì„ ìœ„í•œ Yì¡´ ì¼€ì–´ ìœ ì‚°ê·  ì œí’ˆì˜ ë¸Œëœë“œ ì¸ì§€ë„ í–¥ìƒ ë° êµ¬ë§¤ ìœ ë„.\n\nê´‘ê³  ì½˜ì…‰íŠ¸: ë”°ëœ»í•˜ê³  í¸ì•ˆí•œ ë¶„ìœ„ê¸° ì†ì—ì„œ ì œí’ˆì˜ íš¨ëŠ¥ê³¼ ì‚¬ìš©ë²•ì„ ìì—°ìŠ¤ëŸ½ê²Œ ì „ë‹¬.\n\nì œì‘ í˜•ì‹: ì˜ìƒ (ìˆí¼ ë° ì¤‘Â·ì¥í¸ í˜¼í•©)\n\nìŠ¤íƒ€ì¼: ì¹œê·¼í•˜ê³  í¸ì•ˆí•œ ì—°ì¶œ, ì¼ìƒ ì†ì—ì„œ ìì—°ìŠ¤ëŸ½ê²Œ ìŠ¤ë©°ë“œëŠ” ì¥ë©´ êµ¬ì„±.\n\nì°¸ê³  í¬íŠ¸í´ë¦¬ì˜¤:\n1. ë©”íë¦­ ë‹¿ê¸°ë¥¼ ì ¤ íƒ€ì… ì‡¼ì¸  - Calmpictures (https://player.vimeo.com/video/878209021)\n2. ë©”íë¦­ ë‹¿ê¸°ë¥¼ ìŠ¤í”„ë ˆì´í˜• ì‡¼ì¸  - Calmpictures (https://player.vimeo.com/video/878208992)\n3. ë¬´ì•¤ìœ  - ë´‰ë© (https://player.vimeo.com/video/859290615)\n\nì œì‘ ì¡°ê±´:\n- ì£¼ìš” íƒ€ê²Ÿ: 20~40ëŒ€ ì—¬ì„±\n- ì´¬ì˜ ì¥ì†Œ: ë”°ëœ»í•˜ê³  ì•„ëŠ‘í•œ ì‹¤ë‚´ ê³µê°„\n- ì œì‘ ê¸°ê°„: 2ì£¼~1ê°œì›”\n- í•„ìš” ì¸ë ¥: ëª¨ë¸(ì—¬ì„±), ì´¬ì˜ê°ë…, ì¡°ëª…ê°ë…, í¸ì§‘ì\n\nì˜ˆìƒ ì œì‘ë¹„: ìŠ¤íŠœë””ì˜¤ë³„ ì œì•ˆì„œ ì°¸ê³ "
    }
    ```

#### 5. Response Body

| í•„ë“œëª…  | íƒ€ì…     | ì„¤ëª…                                                                 |
|---------|----------|----------------------------------------------------------------------|
| example | string   | ìƒì„±ëœ ê´‘ê³  ì‘ì—…ì§€ì‹œì„œ ì˜ˆì‹œ í…ìŠ¤íŠ¸. ì œì‘ ëª©ì , ì½˜ì…‰íŠ¸, í˜•ì‹, ìŠ¤íƒ€ì¼, ì°¸ê³  í¬íŠ¸í´ë¦¬ì˜¤, ì œì‘ ì¡°ê±´, ì˜ˆìƒ ì œì‘ë¹„ ë“±ì˜ ë‚´ìš©ì„ í¬í•¨ |
> í”„ëŸ°íŠ¸ì—”ë“œì—ì„œ ë°”ë¡œ ë³µì‚¬ê°€ëŠ¥

## 5ï¸âƒ£ í”„ëŸ°íŠ¸ì—”ë“œ ì‹¤í–‰ ê°€ì´ë“œ

### ğŸ“Œ 5.1 í•„ìˆ˜ ìš”êµ¬ì‚¬í•­
- Node.js 18 ì´ìƒ
- npm 9 ì´ìƒ ë˜ëŠ” pnpm, yarn (íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ëŠ” ììœ  ì„ íƒ)

### ğŸ“Œ 5.2 í”„ë¡œì íŠ¸ í´ë¡  ë° ì˜ì¡´ì„± ì„¤ì¹˜
```bash
# frontend ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd frontend

# íŒ¨í‚¤ì§€ ì„¤ì¹˜
npm install
# ë˜ëŠ”
yarn install
# ë˜ëŠ”
pnpm install

### ğŸ“Œ 5.3 í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
- frontend/.env íŒŒì¼ì„ ìƒì„±í•˜ê³  ë°±ì—”ë“œ URLì„ ê¸°ì…í•©ë‹ˆë‹¤.
```env
VITE_API_BASE_URL=http://localhost:9000
```

### ğŸ“Œ 5.4 ê°œë°œ ì„œë²„ ì‹¤í–‰
```bash
npm run dev
# ë˜ëŠ”
yarn dev
# ë˜ëŠ”
pnpm dev
```

### ğŸ“Œ 5.5 ë¹Œë“œ ë° ë°°í¬
```bash
npm run build
# ë˜ëŠ”
yarn build
# ë˜ëŠ”
pnpm build
```